var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},lxl;!function(t){var e=function(e){function i(i){var n=e.call(this)||this;return n.hasActivi=!1,n.hasDispos=!1,n.addEventListener(eui.UIEvent.COMPLETE,n.loadComplete,n),n.skinName=t.Tool.callJS("getURL")+i,n.funOnActivity=n.onActivity,n.funDispose=n.dispose,n}return __extends(i,e),i.prototype.loadComplete=function(){var e=this;egret.Tween.get(this).wait(.1).call(function(){e.addEventListener(eui.UIEvent.ADDED_TO_STAGE,e.onActivity,e),e.dispatchEvent(new t.CEvent(t.CEvent.LOAD_SKIN_COMPLETE,e))},this)},i.prototype.onActivity=function(){for(var t=0;t<this.numChildren;t++)this.doAcivity(this.getChildAt(t));this.hasActivi=!0},i.prototype.doAcivity=function(t){if(t.hasOwnProperty("funOnActivity")&&0==t.hasActivi&&t.funOnActivity(),0!=t.numChildren)for(var e=0;e<t.numChildren;e++)this.doAcivity(t.getChildAt(e))},i.prototype.dispose=function(){this.removeEventListener(eui.UIEvent.COMPLETE,this.loadComplete,this),this.removeEventListener(eui.UIEvent.ADDED_TO_STAGE,this.onActivity,this);for(var t=0;t<this.numChildren;t++)this.doDispos(this.getChildAt(t));this.parent.removeChild(this),this.hasDispos=!0},i.prototype.doDispos=function(t){if(t.hasOwnProperty("funDispose")&&0==t.hasDispos&&t.funDispose(),0!=t.numChildren)for(var e=0;e<t.numChildren;e++)this.doDispos(t.getChildAt(e))},i.prototype.createChildren=function(){e.prototype.createChildren.call(this)},i.prototype.removeChildByName=function(t){this.removeChild(this.getChildByName(t))},i.prototype.pop=function(e,i){var n=this;void 0===i&&(i=!1),e.addEventListener(t.CEvent.LOAD_SKIN_COMPLETE,function(){e.anchorOffsetX=e.width/2,e.anchorOffsetY=e.height/2,e.x=n.stage.stageWidth/2,0==i?e.y=n.stage.stageHeight/2:(e.y=0,e.alpha=0),n.addChild(e),1==i&&egret.Tween.get(e).to({y:n.stage.stageHeight/2,alpha:1},200).to({y:n.stage.stageHeight/2-30},100).to({y:n.stage.stageHeight/2+10},100).to({y:n.stage.stageHeight/2},100)},this)},i}(eui.Component);t.CComponent=e,__reflect(e.prototype,"lxl.CComponent")}(lxl||(lxl={}));var lxl;!function(t){var e;!function(e){var i=function(e){function i(){return e.call(this,"")||this}return __extends(i,e),i.prototype.onOK=function(){close(),null!=this.okHandler&&this.okHandler.call(this.ctx)},i.prototype.onCancel=function(){close(),null!=this.cancelHandler&&this.cancelHandler.call(this.ctx)},i.prototype.show=function(t,e,i,n){this.okHandler=e,this.ctx=n,this.label.text=t,egret.Tween.get(this).to({alpha:1},800,egret.Ease.quintOut)},i.prototype.close=function(){var t=this;egret.Tween.get(this).to({alpha:0},1200,egret.Ease.quintIn).call(function(){t.parent&&t.parent.removeChild(t)})},i.prototype.onActivity=function(){e.prototype.onActivity.call(this),this.btn_ok.addEventListener(t.CEvent.CLICK,this.onOK,this),this.btn_cancel.addEventListener(t.CEvent.CLICK,this.onCancel,this)},i}(t.CComponent);e.ConfirmPanel=i,__reflect(i.prototype,"lxl.ui.ConfirmPanel")}(e=t.ui||(t.ui={}))}(lxl||(lxl={}));var lxl;!function(t){var e;!function(e){var i=function(e){function i(){var t=e.call(this)||this;return t.addEventListener(eui.UIEvent.ADDED_TO_STAGE,t.onActivity,t),t.addEventListener(eui.UIEvent.REMOVED_FROM_STAGE,t.dispose,t),t}return __extends(i,e),i.prototype.onActivity=function(){},i.prototype.dispose=function(){for(var t=0;t<this.numChildren;t++)this.getChildAt(t).hasOwnProperty("dispose")&&this.getChildAt(t).dispose();this.parent.removeChild(this)},i.prototype.pop=function(e){var i=this;e.addEventListener(t.CEvent.LOAD_SKIN_COMPLETE,function(){e.anchorOffsetX=e.width/2,e.anchorOffsetY=e.height/2,e.x=i.stage.stageWidth/2,e.y=i.stage.stageHeight/2,i.addChild(e)},this),this.addChild(e)},i.prototype.removeChildByName=function(t){this.removeChild(this.getChildByName(t))},i}(eui.UILayer);e.CLayer=i,__reflect(i.prototype,"lxl.ui.CLayer")}(e=t.ui||(t.ui={}))}(lxl||(lxl={}));var lxl;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.getInstance=function(){return null==this._instance&&(this._instance=new e),this._instance},e.prototype.addListener=function(t,e,i,n,s){void 0===n&&(n=!1),void 0===s&&(s=0),0==this.hasListener(t)&&this.addEventListener(t,e,i,n,s)},e.prototype.removeListener=function(t,e,i,n){void 0===n&&(n=!1),1==this.hasListener(t)&&this.removeEventListener(t,e,i,n)},e.prototype.dispatch=function(t){return this.dispatchEvent(t)},e.prototype.hasListener=function(t){return this.hasEventListener(t)},e.prototype.willTrigger=function(t){return this.willTrigger(t)},e.prototype.once=function(t,e,i,n,s){return this.once(t,e,i,n,s)},e}(egret.EventDispatcher);t.CDispatcher=e,__reflect(e.prototype,"lxl.CDispatcher")}(lxl||(lxl={}));var lxl;!function(t){var e;!function(e){var i=function(e){function i(){return e.call(this,"")||this}return __extends(i,e),i.prototype.onOK=function(){close(),null!=this.okHandler&&this.okHandler.call(this.ctx)},i.prototype.show=function(t,e,i){this.okHandler=e,this.ctx=i,this.label.text=t,egret.Tween.get(this).to({alpha:1},800,egret.Ease.quintOut)},i.prototype.close=function(){var t=this;egret.Tween.get(this).to({alpha:0},1200,egret.Ease.quintIn).call(function(){t.parent&&t.parent.removeChild(t)})},i.prototype.onActivity=function(){e.prototype.onActivity.call(this),this.btn_ok.addEventListener(t.CEvent.CLICK,this.onOK,this)},i}(t.CComponent);e.AlertPanel=i,__reflect(i.prototype,"lxl.ui.AlertPanel")}(e=t.ui||(t.ui={}))}(lxl||(lxl={}));var app;!function(t){var e=function(){function t(){}return t}();t.GridMap=e,__reflect(e.prototype,"app.GridMap");var i=function(){function t(){this.userName="",this.token="",this.userType="",this.chessType="",this.gridMap=[],this.studentInfo={},this.isWin=0}return t}();t.UserInfo=i,__reflect(i.prototype,"app.UserInfo");var n=function(){function t(){this.type="",this.attackerToken="",this.defenderToken="",this.curRole="",this.userList=[]}return t.prototype.dispose=function(){this.type="",this.attackerToken="",this.defenderToken="",this.userList=[]},t}();t.ViewData=n,__reflect(n.prototype,"app.ViewData")}(app||(app={}));var lxl;!function(t){var e=function(){function t(){}return t}();t.CEventInit=e,__reflect(e.prototype,"lxl.CEventInit",["EventInit"]);var i=function(t){function e(e,i,n,s,r){void 0===i&&(i=null),void 0===n&&(n=0),void 0===s&&(s=!1),void 0===r&&(r=!1);var o=t.call(this,e,s,r,i)||this;return o._param=i,o}return __extends(e,t),Object.defineProperty(e.prototype,"param",{get:function(){return this._param},enumerable:!0,configurable:!0}),e}(egret.Event);i.CONNECT_SERVER="CEVENT::CONNECT_SERVER",i.CONNECT_FAIL="CEVENT::CONNECT_FAIL",i.LOAD_SKIN_COMPLETE="CEVENT::LOAD_SKIN_COMPLETE",i.LOAD_CONFIG_COMPLETE="CEVENT::LOAD_CONFIG_COMPLETE",i.LOAD_GROUP_COMPLETE="CEVENT::LOAD_GROUP_COMPLETE",i.LOAD_PROGRESS="CEVENT::LOAD_PROGRESS",i.PRE_CLICK="CEVENT::PRE_CLICK",i.CLICK="CEVENT::CLICK",i.SEL_COMPLETE="CEVENT::SEL_COMPLETE",i.SUCCESS="CEVENT::SUCCESS",i.BACK="CEVENT::BACK",i.UP="CEVENT::UP",i.DOWN="CEVENT::DOWN",i.LEFT="CEVENT::LEFT",i.RIGHT="CEVENT::RIGHT",i.SPACE="CEVENT::SPACE",i.PROTECTE_EYE="CEVENT::PROTECTE_EYE",i.EYE_CHANGE="CEVENT::EYE_CHANGE",i.GET_MESSAGE_FROM_SERVER="CEVENT::GET_MESSAGE_FROM_SERVER",i.GET_STUDENTS_FROM_SERVER="CEVENT::GET_USERLIST_FROM_SERVER",i.GET_TEACHER_FROM_SERVER="CEVENT::GET_TEACHER_FROM_SERVER",i.GET_MESSAGE="CEVENT::GET_MESSAGE",i.GET_LIST="CEVENT::GET_STUDENTS",i.GET_TEACHER="CEVENT::GET_TEACHER",i.GET_USER_LIST="CEVENT::GET_USER_LIST",i.SEL_DEFENDER="CEVENT::SEL_DEFENDER",i.SEL_DEFENDER_COMPLETE="CEVENT::SEL_DEFENDER_COMPLETE",i.CHESS_MOVE="CEVENT::CHESS_MOVE",i.OPEN="CEVENT::OPEN",i.READONLY_CHANGE="READONLY_CHANGE",t.CEvent=i,__reflect(i.prototype,"lxl.CEvent")}(lxl||(lxl={}));var app;!function(t){var e=function(){function t(){}return t.prototype.sendMessageToServer=function(t){var e=lxl.Tool.copyObject(t),i={action:"publicMessage",data:e};lxl.Tool.callJS("sendMsg",i)},t.prototype.setUserList=function(t){var e=lxl.Tool.copyObject(t),i={type:"getUserList",data:e};this.sendMessageToServer(i)},t.prototype.selDefender=function(t){var e={type:"selDefender",data:t};this.sendMessageToServer(e)},t.prototype.chessMove=function(t){var e=lxl.Tool.copyObject(t),i={type:"chessMove",data:e};this.sendMessageToServer(i)},t.prototype._getUserList=function(t){lxl.CDispatcher.getInstance().dispatch(new lxl.CEvent(lxl.CEvent.GET_USER_LIST,t))},t.prototype._getDefender=function(t){lxl.CDispatcher.getInstance().dispatch(new lxl.CEvent(lxl.CEvent.SEL_DEFENDER,t))},t.prototype._getChessMove=function(t){lxl.CDispatcher.getInstance().dispatch(new lxl.CEvent(lxl.CEvent.CHESS_MOVE,t))},t.prototype.getMessageFromServer=function(t){switch(lxl.logs.log("getMessageFromServer "+t),t.type){case"getUserList":this._getUserList(t.data);break;case"selDefender":this._getDefender(t.data);break;case"chessMove":this._getChessMove(t.data)}},t.prototype.setStudentsFromServer=function(t){lxl.logs.log("students:"+t),lxl.CDispatcher.getInstance().dispatch(new lxl.CEvent(lxl.CEvent.GET_STUDENTS_FROM_SERVER,t))},t.prototype.setTeacherFromServer=function(t){lxl.logs.log("teacher:"+t),lxl.CDispatcher.getInstance().dispatch(new lxl.CEvent(lxl.CEvent.GET_TEACHER_FROM_SERVER,t))},t.prototype.getWordsFromServer=function(){},t}();t.DataHandler=e,__reflect(e.prototype,"app.DataHandler")}(app||(app={}));var lxl;!function(t){var e=t.ui.AlertPanel,i=t.ui.ConfirmPanel,n=function(t){function n(){var e=t.call(this)||this;return e.touchEnabled=!0,e}return __extends(n,t),Object.defineProperty(n.prototype,"alertPanel",{get:function(){return null==this._alertPanel&&(this._alertPanel=new e,this.addChildAt(this._alertPanel,0)),this._alertPanel},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"confirmPanel",{get:function(){return null==this._confirmPanel&&(this._confirmPanel=new i,this.addChildAt(this._confirmPanel,0)),this._confirmPanel},enumerable:!0,configurable:!0}),Object.defineProperty(n,"instance",{get:function(){return null==this._instance&&(this._instance=new n),this._instance},enumerable:!0,configurable:!0}),n.showAlert=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null),this.instance.alertPanel.show(t,e,i)},n.showConfirm=function(t,e,i,n){void 0===i&&(i=null),void 0===n&&(n=null),this.instance.confirmPanel.show(t,e,i,n)},n}(t.ui.CLayer);t.Alert=n,__reflect(n.prototype,"lxl.Alert")}(lxl||(lxl={}));var lxl;!function(t){var e=function(e){function i(){return e.call(this)||this}return __extends(i,e),i.prototype.loadConfig=function(t,e){RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this._configComplete,this),RES.loadConfig(t,e)},i.prototype._configComplete=function(e){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this._configComplete,this),this.dispatch(new t.CEvent(t.CEvent.LOAD_CONFIG_COMPLETE,e))},i.prototype.loadGroup=function(t){RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this._onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this._onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this._onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this._onItemLoadError,this),RES.loadGroup(t)},i.prototype._onResourceLoadComplete=function(e){RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this._onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this._onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this._onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this._onItemLoadError,this),this.dispatch(new t.CEvent(t.CEvent.LOAD_GROUP_COMPLETE,e))},i.prototype.getRes=function(t){return RES.getRes(t)},i.prototype.getResAsync=function(t,e,i){RES.getResAsync(t,e,i)},i.prototype.getResByUrl=function(t,e,i,n){var s=new egret.URLLoader;s.addEventListener(egret.Event.COMPLETE,e,i),s.dataFormat=n;var r=new egret.URLRequest(t);s.load(r)},i.prototype._onResourceLoadError=function(e){t.logs.log("Group:"+e.groupName+"加载失败"),this._onResourceLoadComplete(e)},i.prototype._onItemLoadError=function(e){t.logs.log("URL:"+e.resItem.url+" 加载出错")},i.prototype._onResourceProgress=function(e){this.dispatch(new t.CEvent(t.CEvent.LOAD_PROGRESS,e))},i.prototype.getMovieClip=function(t,e,i){var n=RES.getRes(t),s=RES.getRes(e),r=new egret.MovieClipDataFactory(n,s),o=new egret.MovieClip(r.generateMovieClipData(i));return o},i.prototype.getMovieClipAsync=function(e,i,n,s,r){var o,a,h,l=0,p=function(){if(l++,2==l){var t=new egret.MovieClipDataFactory(a,o);h=new egret.MovieClip(t.generateMovieClipData(n)),s.call(r,h)}};this.getResByUrl(t.Config.MC_PATH+i,function(t){o=t.currentTarget.data,p()},this,egret.URLLoaderDataFormat.TEXTURE),this.getResByUrl(t.Config.MC_PATH+i,function(t){a=JSON.parse(t.currentTarget.data),p()},this,egret.URLLoaderDataFormat.TEXT)},i}(t.CDispatcher);t.ResManager=e,__reflect(e.prototype,"lxl.ResManager")}(lxl||(lxl={}));var lxl;!function(t){var e=function(){function e(){this.resManager=new t.ResManager}return e.prototype.connectServer=function(){this.dataManager=new t.DataManager,this.dataManager.addListener(t.CEvent.CONNECT_SERVER,this.connectServerComplete,this)},e.prototype.connectServerComplete=function(t){},e.getInstance=function(){return null==this._instance&&(this._instance=new e),this._instance},e}();t.GlobalData=e,__reflect(e.prototype,"lxl.GlobalData")}(lxl||(lxl={}));var lxl;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.isThemeLoadEnd=!1,t.isResourceLoadEnd=!1,t}return __extends(i,e),i.prototype.onActivity=function(){e.prototype.onActivity.call(this),this.stage.scaleMode=egret.StageScaleMode.NO_SCALE,this.root=new t.ui.CLayer,this.shape=new egret.Shape,this._logo=new eui.Image;var i=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",i),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),this.addEventListener(egret.Event.RESIZE,this._resizeHandler,this),Res.addListener(t.CEvent.LOAD_CONFIG_COMPLETE,this._conConfigComplete,this),this.preURL=t.Tool.callJS("getURL"),Res.loadConfig(this.preURL+"resource/default.res.json",this.preURL+"resource/")},i.prototype._conConfigComplete=function(e){Res.removeListener(t.CEvent.LOAD_CONFIG_COMPLETE,this._conConfigComplete,this);var i=new eui.Theme(this.preURL+"resource/default.thm.json",this.stage);i.addEventListener(eui.UIEvent.COMPLETE,this.onThemeLoadComplete,this),Res.addListener(t.CEvent.LOAD_GROUP_COMPLETE,this._onResourceLoadComplete,this),Res.loadGroup("preload")},i.prototype._resizeHandler=function(t){this.shape.graphics.clear(),this.shape.graphics.beginFill(10053120),this.shape.graphics.drawRect(0,0,this.width,this.height),this.shape.graphics.endFill()},i.prototype.onThemeLoadComplete=function(t){this.isThemeLoadEnd=!0,this.createScene()},i.prototype._onResourceLoadComplete=function(e){"preload"==e.data.groupName?(this.loading=new t.LoadingUI,this.loading.width=this.width,this.loading.height=this.height,this.loading.createView(),this.stage.addChild(this.loading),Res.addListener(t.CEvent.LOAD_PROGRESS,this._onResourceProgress,this),Res.loadGroup("main")):egret.Tween.get(this.loading).to({alpha:0},1e3).call(this.resourceComplete,this)},i.prototype.resourceComplete=function(){this.stage.removeChild(this.loading),this.isResourceLoadEnd=!0,this.createScene(),Res.removeListener(t.CEvent.LOAD_GROUP_COMPLETE,this._onResourceLoadComplete,this)},i.prototype._onResourceProgress=function(t){this.loading.setProgress(t.data.itemsLoaded,t.data.itemsTotal)},i.prototype.createScene=function(){this.isThemeLoadEnd&&this.isResourceLoadEnd&&(this.start(),this.root.delegate=this,this.stage.addChild(this.root),this._logo.source="img_logo_png",this._logo.x=10,this._logo.y=10,this.stage.addChild(this._logo),"web"==egret.Capabilities.runtimeType&&(document.onkeydown=this.keyDownHandler),this.shape.graphics.beginFill(10053120),this.shape.graphics.drawRect(0,0,this.width,this.height),this.shape.graphics.endFill(),this.shape.alpha=0,this.shape.visible=!1,this.stage.addChild(this.shape),t.Toast.getInstance().init(this,Res.getRes("full1_png")),t.CDispatcher.getInstance().addListener(t.CEvent.EYE_CHANGE,this.changeModel,this))},i.prototype.keyDownHandler=function(e){switch(e.keyCode){case 32:t.CDispatcher.getInstance().dispatch(new t.CEvent(t.CEvent.SPACE,"space"));break;case 37:t.CDispatcher.getInstance().dispatch(new t.CEvent(t.CEvent.LEFT,"left"));break;case 38:t.CDispatcher.getInstance().dispatch(new t.CEvent(t.CEvent.UP,"up"));break;case 39:t.CDispatcher.getInstance().dispatch(new t.CEvent(t.CEvent.RIGHT,"right"));break;case 40:t.CDispatcher.getInstance().dispatch(new t.CEvent(t.CEvent.DOWN,"down"))}},i.prototype.changeModel=function(e){var i=this;0==this.shape.visible?(this.shape.alpha=0,this.shape.visible=!0,egret.Tween.get(this.shape).to({alpha:.35},1e3,egret.Ease.quadOut).call(function(){t.CDispatcher.getInstance().dispatch(new t.CEvent(t.CEvent.PROTECTE_EYE,1))})):egret.Tween.get(this.shape).to({alpha:0},1e3,egret.Ease.quintIn).call(function(){i.shape.visible=!1,t.CDispatcher.getInstance().dispatch(new t.CEvent(t.CEvent.PROTECTE_EYE,0))})},i.prototype.start=function(){},i}(t.ui.CLayer);t.Application=e,__reflect(e.prototype,"lxl.Application")}(lxl||(lxl={}));var app;!function(t){var e=function(){function e(){this.model=0,this.userList=[],this.readOnly=!0,this.viewData=new t.ViewData,this.dataHandler=new t.DataHandler,lxl.CDispatcher.getInstance().addListener(lxl.CEvent.GET_STUDENTS_FROM_SERVER,this._getStudents,this),lxl.CDispatcher.getInstance().addListener(lxl.CEvent.GET_USER_LIST,this._userListHandler,this),lxl.CDispatcher.getInstance().addListener(lxl.CEvent.SEL_DEFENDER,this._selDefender,this)}return e.prototype._selDefender=function(t){this.viewData.defenderToken=t.param,this.viewData.curRole="attacker";var e=lxl.Tool.callJS("getInfoToken");"COORDINATOR"==e._userRole?this.readOnly=!1:e.loginToken==t.param?this.readOnly=!1:this.readOnly=!0,lxl.CDispatcher.getInstance().dispatch(new lxl.CEvent(lxl.CEvent.SEL_DEFENDER_COMPLETE))},e.prototype._userListHandler=function(t){this.userList=lxl.Tool.objectToArray(t.param),this.viewData.userList=this.userList;for(var e=0;e<this.userList.length;e++)if("teacher"==this.userList[e].userType){this.viewData.curRole="attacker",this.viewData.attackerToken=this.userList[e].token;break}lxl.CDispatcher.getInstance().dispatch(new lxl.CEvent(lxl.CEvent.GET_LIST))},e.prototype._getStudents=function(e){var i=lxl.Tool.callJS("getInfoToken");if("COORDINATOR"==i._userRole){for(var n=void 0,s=0;s<e.param.length;s++)n=new t.UserInfo,n.userType="student",n.token=e.param[s].loginToken,n.studentInfo=e.param[s],n.userName=e.param[s].info.userName,this.userList.push(n);n=new t.UserInfo,n.userType="teacher",n.token=i.loginToken,n.chessType="attacker",n.userName=i.userName,this.userList.push(n),this.dataHandler.setUserList(this.userList)}},e.prototype.judgeWhoWin=function(t){for(var e=[{count:1,type:""},{count:1,type:""},{count:1,type:""},{count:1,type:""}],i=1;16>i;i++){for(var n=1;16>n;n++){var s=lxl.Tool.getValueByKey(t,i+"_"+n),r=lxl.Tool.getValueByKey(t,i+"_"+(n+1));if(null==r)break;if(s.data.chessType==r.data.chessType&&void 0!=s.data.chessType){if(e[0].count++,e[0].type=s.data.chessType,4==e[0].count)return e[0].type}else e[0].count=0}for(var o=1;16>o;o++){var s=lxl.Tool.getValueByKey(t,o+"_"+i),r=lxl.Tool.getValueByKey(t,o+1+"_"+i);if(null==r)break;if(s.data.chessType==r.data.chessType&&void 0!=s.data.chessType){if(e[1].count++,e[1].type=s.data.chessType,4==e[1].count)return e[1].type}else e[1].count=0}}for(var i=0;15>i;i++)for(var a=i,n=0;15>n;n++){var s=lxl.Tool.getValueByKey(t,i+1+"_"+(n+1)),r=lxl.Tool.getValueByKey(t,i+2+"_"+(n+2));if(null==r){i=a;break}if(s.data.chessType==r.data.chessType&&void 0!=s.data.chessType){if(e[2].count++,e[2].type=s.data.chessType,i++,4==e[2].count)return e[2].type}else e[2].count=0}for(var n=14;n>0;n--)for(var h=n,i=0;15>i;i++){var s=lxl.Tool.getValueByKey(t,i+1+"_"+n),r=lxl.Tool.getValueByKey(t,i+2+"_"+(n-1));if(null==r){n=h;break}if(s.data.chessType==r.data.chessType&&void 0!=s.data.chessType){if(e[3].count++,e[3].type=s.data.chessType,n--,4==e[3].count)return e[3].type}else e[3].count=0}for(var i=0;i<e.length;i++){if(e[i].count>=4)return e[i].type;if(i==e.length-1)return""}},e.prototype.findEmptyGrids=function(t,e){for(var i=t.length-1;i>=0;i--)if(t[i].logicPos==e.logicPos){t.splice(i,1);break}},e.prototype.getEmptyGrid=function(e,i){for(var n=[],s=[],r=new t.Grid,o=0;o<e.length;o++){r.logicPos=e[o].logicPos,s=r.logicPos.split("_");for(var a=0;a<e.length;a++){var h=e[a].logicPos,l=h.split("_");if(l[0]==s[0]&&(parseInt(l[1])==parseInt(s[1])+1||parseInt(l[1])==parseInt(s[1])-1)||l[1]==s[1]&&(parseInt(l[0])==parseInt(s[0])+1||parseInt(l[0])==parseInt(s[0])-1)){for(var p=e[a].logicPos.split("_"),c=0;c<n.length;c++){var d=n[c].logicPos,u=d.split("_");if(u[0]==p[0]&&(parseInt(u[1])==parseInt(p[1])+1||parseInt(u[1])==parseInt(p[1])-1)||u[1]==p[1]&&(parseInt(u[0])==parseInt(p[0])+1||parseInt(u[0])==parseInt(p[0])-1)){n.push(e[a]);break}}if(lxl.logs.log("cg.logicPos:"+r.logicPos+" "+e[a].logicPos),0==n.length&&n.push(e[a]),r.logicPos=e[a].logicPos,s=r.logicPos.split("_"),n.length==i)return lxl.logs.log("----"),n}}}return[]},e.getInstance=function(){return null==this._qipan&&(this._qipan=new e),this._qipan},e}();t.QipanManager=e,__reflect(e.prototype,"app.QipanManager")}(app||(app={}));var app;!function(t){var e=function(t){function e(){return t.call(this,lxl.Config.SKIN_PATH+"StudentItemViewSkin.exml")||this}return __extends(e,t),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t},enumerable:!0,configurable:!0}),e.prototype.updateData=function(){this.lab_name.text=this._data.userName},e.prototype.setActivity=function(){this.img_type.visible=!0},e.prototype.unActivity=function(){this.img_type.visible=!1},e.prototype.onActivity=function(){t.prototype.onActivity.call(this)},e.prototype.dispose=function(){t.prototype.dispose.call(this)},e}(lxl.CComponent);t.StudentItemView=e,__reflect(e.prototype,"app.StudentItemView")}(app||(app={}));var app;!function(t){var e=function(e){function i(){var t=e.call(this,lxl.Config.SKIN_PATH+"TeacherWatchViewSkin.exml")||this;return t._gridArr=[],t._lock=!1,t.svList=[],t.arrQipanParts=[],t._curTimes=0,t._maxTimes=4,t._eachTimes=3,t.lastGrids=[],t}return __extends(i,e),i.prototype.onActivity=function(){e.prototype.onActivity.call(this),this._qiziSound=Res.getRes("qizi_mp3"),lxl.CDispatcher.getInstance().addListener(lxl.CEvent.GET_LIST,this._updateStudentList,this),lxl.CDispatcher.getInstance().addListener(lxl.CEvent.SEL_DEFENDER_COMPLETE,this._updateUserListState,this),lxl.CDispatcher.getInstance().addListener(lxl.CEvent.CHESS_MOVE,this._chessMove,this),this._updateStudentList(null)},i.prototype._updateUserListState=function(t){for(var e=0;e<this.scrollGroup.numChildren;e++)this.scrollGroup.getChildAt(e)&&(this.scrollGroup.getChildAt(e).data.token==Qipan.viewData.defenderToken?(this.scrollGroup.getChildAt(e).data.chessType="defender",this.scrollGroup.getChildAt(e).setActivity()):(this.scrollGroup.getChildAt(e).data.chessType="",this.scrollGroup.getChildAt(e).unActivity()));var i="0,1,2,3,4,5,6,7,8,9,10,11,12,13,14",n="0,1,2,3,4,5,6,7,8,9,10,11,12,13,14";this.setXY(i,n)},i.prototype._updateStudentList=function(e){for(var i,n=this,s=0;s<Qipan.userList.length;s++)"student"==Qipan.userList[s].userType&&(i=new t.StudentItemView,i.name=Qipan.userList[s].token,i.data=Qipan.userList[s],i.addEventListener(lxl.CEvent.LOAD_SKIN_COMPLETE,function(){i.updateData(),n.svList.push(i),n.scrollGroup.getChildByName(n.svList[n.svList.length-1].name)?n.scrollGroup.getChildByName(n.svList[n.svList.length-1].name).updateData():(n.scrollGroup.addChild(n.svList[n.svList.length-1]),n.svList[n.svList.length-1].addEventListener(egret.TouchEvent.TOUCH_TAP,n._clickItemHandler,n))},this))},i.prototype._clickItemHandler=function(t){var e=t.currentTarget.data;Qipan.dataHandler.selDefender(e.token)},i.prototype.setXY=function(t,e){this._xArr=t.split(","),this._yArr=e.split(","),this._drawGrid()},i.prototype._drawGrid=function(){for(var e=0;e<this._gridArr.length;e++)this._gridArr[e].v.removeEventListener(lxl.CEvent.PRE_CLICK,this._gridPreClickHandler,this),this._gridArr[e].v.dispose();this.group.removeChildren(),this._gridArr=[];for(var i,n=0;n<this._xArr.length;n++)for(var s=0;s<this._yArr.length;s++){i=new t.Grid,i.logicPos=n+1+"_"+(s+1),this.group.addChild(i),0==n&&0==s?i.setBorderInVisible("left,top"):0==n&&s==this._yArr.length-1?i.setBorderInVisible("bottom,left"):n==this._xArr.length-1&&0==s?i.setBorderInVisible("right,top"):n==this._xArr.length-1&&s==this._yArr.length-1?i.setBorderInVisible("bottom,right"):0==n?i.setBorderInVisible("left"):0==s?i.setBorderInVisible("top"):n==this._xArr.length-1?i.setBorderInVisible("right"):s==this._yArr.length-1?i.setBorderInVisible("bottom"):i.setBorderInVisible("");var r=new lxl.data.Map;r.k=i.logicPos,r.v=i,lxl.Tool.setMapValue(this._gridArr,r),r.v.addEventListener(lxl.CEvent.PRE_CLICK,this._gridPreClickHandler,this)}},i.prototype._gridPreClickHandler=function(t){if(1!=Qipan.readOnly){var e=t.param.data;if(1!=lxl.Tool.getValueByKey(this._gridArr,e.loc_x+"_"+e.loc_y).filled){var i=lxl.Tool.callJS("getInfoToken");"COORDINATOR"==i._userRole?t.param.setChessType("attacker"):t.param.setChessType("defender"),this._qiziSound.play(0,1),Qipan.dataHandler.chessMove(t.param.data)}}},i.prototype._chessMove=function(t){var e=t.param;lxl.Tool.getValueByKey(this._gridArr,e.loc_x+"_"+e.loc_y).setChessType(e.chessType),lxl.Tool.getValueByKey(this._gridArr,e.loc_x+"_"+e.loc_y).setFilled(!0);var i=Qipan.judgeWhoWin(this._gridArr);""!=i&&void 0!=i&&("attacker"==i?this._showWin(Qipan.viewData.attackerToken):"defender"==i&&this._showWin(Qipan.viewData.defenderToken))},i.prototype._showWin=function(e){egret.Tween.get(this).wait(1e3).call(function(){this._win=new t.DlgWin;for(var i=0;i<Qipan.userList.length;i++)if(Qipan.userList[i].token==e){this._win.setLab(Qipan.userList[i].userName+"获胜");break}this.pop(this._win),this._win.addEventListener(lxl.CEvent.CLOSE,this._winClose,this)},this)},i.prototype._winClose=function(){this._win.removeEventListener(lxl.CEvent.CLOSE,this._winClose,this),this._win.dispose(),this._drawGrid()},i.prototype.dispose=function(){e.prototype.dispose.call(this);for(var t=0;t<this.scrollGroup.numChildren;t++)this.svList[t].removeEventListener(egret.TouchEvent.TOUCH_TAP,this._clickItemHandler,this);for(var i=0;i<this._gridArr.length;i++)this._gridArr[i].v.removeEventListener(lxl.CEvent.CLICK,this._gridPreClickHandler,this);this.group.removeChildren()},i}(lxl.CComponent);t.TeachWatchView=e,__reflect(e.prototype,"app.TeachWatchView")}(app||(app={}));var app;!function(t){var e=function(t){function e(){return t.call(this,lxl.Config.SKIN_PATH+"DlgWinSkin.exml")||this}return __extends(e,t),e.prototype.onActivity=function(){t.prototype.onActivity.call(this);var e;e=new egret.Shape,e.graphics.beginFill(0,.4),e.graphics.drawRect(0,0,this.width,this.height),e.graphics.endFill(),this.addChildAt(e,0),this.btn_jixu.addEventListener(lxl.CEvent.CLICK,this._closeHandler,this),this._sound=Res.getRes("win_mp3"),this._sound.play(0,1),this._sound1=Res.getRes("click_guanqia_mp3"),this.lab_desc.text=this._txt},e.prototype.setLab=function(t){this._txt=t},e.prototype._closeHandler=function(t){this._sound1.play(0,1),this.dispatchEvent(new lxl.CEvent(lxl.CEvent.CLOSE))},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.btn_jixu.removeEventListener(lxl.CEvent.CLICK,this._closeHandler,this)},e}(lxl.CComponent);t.DlgWin=e,__reflect(e.prototype,"app.DlgWin")}(app||(app={}));var app;!function(t){var e=function(t){function e(){return t.call(this,lxl.Config.SKIN_PATH+"DlgZhishiSkin.exml")||this}return __extends(e,t),e.prototype.onActivity=function(){t.prototype.onActivity.call(this);var e;e=new egret.Shape,e.graphics.beginFill(0,.4),e.graphics.drawRect(0,0,this.width,this.height),e.graphics.endFill(),this.addChildAt(e,0),this.btn_huyan.addEventListener(lxl.CEvent.CLICK,this._huyanHandler,this),this.btn_close.addEventListener(lxl.CEvent.CLICK,this._closeHandler,this)},e.prototype._closeHandler=function(t){this.dispatchEvent(new lxl.CEvent(lxl.CEvent.CLOSE))},e.prototype._huyanHandler=function(t){lxl.CDispatcher.getInstance().addListener(lxl.CEvent.PROTECTE_EYE,this._changeEyeState,this),lxl.CDispatcher.getInstance().dispatch(new lxl.CEvent(lxl.CEvent.EYE_CHANGE))},e.prototype._changeEyeState=function(t){lxl.CDispatcher.getInstance().removeListener(lxl.CEvent.PROTECTE_EYE,this._changeEyeState,this)},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.btn_huyan.removeEventListener(lxl.CEvent.CLICK,this._huyanHandler,this),this.btn_close.removeEventListener(lxl.CEvent.CLICK,this._closeHandler,this)},e}(lxl.CComponent);t.DlgZhishi=e,__reflect(e.prototype,"app.DlgZhishi")}(app||(app={}));var lxl;!function(t){var e=function(){function t(){}return t}();e.MC_PATH="resource/assets/mc/",e.SKIN_PATH="resource/app_skins/",e.GRID_SIZE=40,t.Config=e,__reflect(e.prototype,"lxl.Config")}(lxl||(lxl={}));var lxl;!function(t){var e;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.str=new egret.ByteArray,e.arr=[],e}return __extends(e,t),e}(Object);t.BaseData=e,__reflect(e.prototype,"lxl.data.BaseData");var i=function(){function t(){}return t}();t.Map=i,__reflect(i.prototype,"lxl.data.Map")}(e=t.data||(t.data={}))}(lxl||(lxl={}));var lxl;!function(t){var e;!function(e){var i=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.getCode=function(){return""},e.prototype.handlerPackage=function(t){},e.prototype.configure=function(t){},e.prototype.send=function(t){void 0===t&&(t=null)},e}(t.CDispatcher);e.BaseDataHandler=i,__reflect(i.prototype,"lxl.data.BaseDataHandler",["lxl.interfaces.IDataHandler","egret.IEventDispatcher"])}(e=t.data||(t.data={}))}(lxl||(lxl={}));var lxl;!function(t){var e;!function(e){var i=function(e){function i(t){var i=e.call(this)||this;return i._dataManager=t,i._netConnet=new egret.HttpRequest,i}return __extends(i,e),i.prototype.errorHandler=function(e){t.logs.log(e.type),this._dataManager.handlerSecurityError()},i.prototype.send=function(e,i,n){if(this._netConnet.open(e.getFullUrl(),egret.HttpMethod.POST),this._cb=i,this._ctx=n,this._netConnet.addEventListener(egret.IOErrorEvent.IO_ERROR,this.errorHandler,this),this._netConnet.addEventListener(egret.Event.COMPLETE,this._completeHandler,this),e.getParamLen()>0){this._netConnet.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var s=t.Tool.MapToField(e.getParam());this._netConnet.send(s)}else this._netConnet.send()},i.prototype._completeHandler=function(t){this._cb(this._netConnet.response,this._ctx),this.dispose()},i.prototype.dispose=function(){this._netConnet.hasEventListener(egret.IOErrorEvent.IO_ERROR)&&(this._netConnet.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.errorHandler,this),this._netConnet.removeEventListener(egret.Event.COMPLETE,this._cb,this._ctx))},i}(egret.HashObject);e.NetData=i,__reflect(i.prototype,"lxl.data.NetData")}(e=t.data||(t.data={}))}(lxl||(lxl={}));var lxl;!function(t){var e;!function(t){var e=function(){function e(e,i){this._code=e,this._o=new t.BaseData,this._o=i}return e.prototype.code=function(){return this._code},e.prototype.readObj=function(){return this._o},e.prototype.readObjStr=function(){var t=JSON.stringify(this._o);if(this._o.propertyIsEnumerable(""))for(var e in this._o)t.concat(e,this._o[e]);return t},e}();t.PackageIn=e,__reflect(e.prototype,"lxl.data.PackageIn",["lxl.interfaces.IPackageIn"])}(e=t.data||(t.data={}))}(lxl||(lxl={}));var lxl;!function(t){var e;!function(t){var e=function(){function e(e){this._code=e,this._o=new t.BaseData
}return e.prototype.writeString=function(t){null==t?this._o.str.writeUTF(""):this._o.str.writeUTFBytes(t)},e.prototype.writeArray=function(t){t.length>0&&(this._o.arr=t)},e.prototype.getParamLen=function(){return this._o.arr.length},e.prototype.getParamByIndex=function(t){return t>=0?this._o.arr[t]:0},e.prototype.getParam=function(){return this._o.arr},e.prototype.code=function(){return this._code},e.prototype.getFullUrl=function(){return""},e}();t.PackageOut=e,__reflect(e.prototype,"lxl.data.PackageOut",["lxl.interfaces.IPackageOut"])}(e=t.data||(t.data={}))}(lxl||(lxl={}));var lxl;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t._dataHandlers=[],t}return __extends(i,e),i.prototype.disConnect=function(){this._netData&&(this._netData.dispose(),this._netData=null)},i.prototype.close=function(){},i.prototype.setDataConnect=function(e,i){null==this._netData&&(this._netData=new t.data.NetData(this))},i.prototype.addDataHandler=function(e){var i=new t.data.Map;i.k=e.getCode(),i.v=e,null==t.Tool.getValueByKey(this._dataHandlers,e.getCode())&&t.Tool.setMapValue(this._dataHandlers,i)},i.prototype.removeDataHandler=function(e){null!=t.Tool.getValueByKey(this._dataHandlers,e)&&t.Tool.removeMapValue(this._dataHandlers,e)},i.prototype.getDataHandler=function(e){return t.Tool.getValueByKey(this._dataHandlers,e)},i.prototype.handlerPackage=function(e){var i=t.Tool.getValueByKey(this._dataHandlers,e.code());null!=i&&(i.configure(e),i.handlerPackage(null))},i.prototype.send=function(t,e,i){null!=this._netData&&this._netData.send(t,e,i)},i.prototype.handlerSecurityError=function(){},i.prototype.handlerConnect=function(){this.dispatch(new t.CEvent(t.CEvent.CONNECT_SERVER))},i}(t.CDispatcher);t.DataManager=e,__reflect(e.prototype,"lxl.DataManager",["lxl.interfaces.IDataManager"])}(lxl||(lxl={}));var app;!function(t){var e=function(){function t(){}return t}();e.SNAKE_DIRECTION="SnakeEvent::SnakeDirection",e.SPEED1=300,e.SPEED2=500,e.SPEED3=800,t.Config=e,__reflect(e.prototype,"app.Config");var i;!function(t){t[t.Left=0]="Left",t[t.Right=1]="Right",t[t.Up=2]="Up",t[t.Down=3]="Down"}(i||(i={}))}(app||(app={}));var ThemeAdapter=function(){function t(){}return t.prototype.getTheme=function(t,e,i,n){function s(t){e.call(n,t)}function r(e){e.resItem.url==t&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),i.call(n))}RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),RES.getResByUrl(t,s,this,RES.ResourceItem.TYPE_TEXT)},t}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var app;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i._logicPos="",i._filled=!1,i._posArr=[],i._data=new t.GridMap,i}return __extends(i,e),i.prototype.onActivity=function(){e.prototype.onActivity.call(this),this.width=lxl.Config.GRID_SIZE,this.height=lxl.Config.GRID_SIZE,this.anchorOffsetX=this.width/2,this.anchorOffsetY=this.height/2,this._shape2=new egret.Shape,this._shape=new egret.Shape,this._shape.width=this._shape2.width=this.width,this._shape.height=this._shape2.height=this.height,this._shape.anchorOffsetX=this._shape2.anchorOffsetX=this.width/2,this._shape.anchorOffsetY=this._shape2.anchorOffsetY=this.height/2,this._lab=new eui.Label,this._lab.size=18,this._lab.textColor=0,this.addChild(this._lab),this.addChild(this._shape2),this.addChild(this._shape),this._img=new eui.Image("black_png"),this._img.x=this._img.y=0,this._img.width=lxl.Config.GRID_SIZE-3,this._img.height=lxl.Config.GRID_SIZE-3,this._img.anchorOffsetX=this._img.anchorOffsetY=this.width/2,this._img.visible=!1,this.addChild(this._img),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this._clickHandler,this)},Object.defineProperty(i.prototype,"logicPos",{get:function(){return this._logicPos},set:function(t){this._logicPos=t;var e=t.split("_");this._posArr=e,this.x=parseInt(e[0])*lxl.Config.GRID_SIZE,this.y=parseInt(e[1])*lxl.Config.GRID_SIZE,this._data.loc_x=parseInt(e[0]),this._data.loc_y=parseInt(e[1])},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),i.prototype.setChessType=function(t){this._data.chessType=t,"attacker"==t?this._img.source="black_png":"defender"==t&&(this._img.source="white_png"),this._img.visible=!1},i.prototype._clickHandler=function(t){this.dispatchEvent(new lxl.CEvent(lxl.CEvent.PRE_CLICK,this))},i.prototype.setBorderInVisible=function(t){switch(this._shape2.graphics.lineStyle(5,0),t){case"top":this._shape2.graphics.moveTo(0,this.height/2),this._shape2.graphics.lineTo(this.width,this.height/2),this._shape2.graphics.endFill(),this._shape2.graphics.lineStyle(2,0),this._shape2.graphics.moveTo(this.width/2,this.height/2),this._shape2.graphics.lineTo(this.width/2,this.height),"1"==this._posArr[1]&&(this._lab.y=-30,this._lab.x=-5,this._lab.text=String.fromCharCode(65+parseInt(this._posArr[0])-1));break;case"left":this._shape2.graphics.lineStyle(5,0),this._shape2.graphics.moveTo(this.width/2,0),this._shape2.graphics.lineTo(this.width/2,this.height),this._shape2.graphics.endFill(),this._shape2.graphics.lineStyle(2,0),this._shape2.graphics.moveTo(this.width/2,this.height/2),this._shape2.graphics.lineTo(this.width,this.height/2),"1"==this._posArr[0]&&(this._lab.y=-6,this._lab.x=-35,this._lab.text=this._posArr[1]);break;case"right":this._shape2.graphics.moveTo(this.width/2,0),this._shape2.graphics.lineTo(this.width/2,this.height),this._shape2.graphics.endFill(),this._shape2.graphics.lineStyle(2,0),this._shape2.graphics.moveTo(this.width/2,this.height/2),this._shape2.graphics.lineTo(0,this.height/2);break;case"bottom":this._shape2.graphics.moveTo(0,this.height/2),this._shape2.graphics.lineTo(this.width,this.height/2),this._shape2.graphics.endFill(),this._shape2.graphics.lineStyle(2,0),this._shape2.graphics.moveTo(this.width/2,0),this._shape2.graphics.lineTo(this.width/2,this.height/2);break;case"top,left":case"left,top":this._shape2.graphics.moveTo(this.width/2,this.height),this._shape2.graphics.lineTo(this.width/2,this.height/2),this._shape2.graphics.lineTo(this.width,this.height/2),"1"==this._posArr[1]&&(this._lab.y=-30,this._lab.text=String.fromCharCode(65+parseInt(this._posArr[0])-1),this._lab2=new eui.Label,this._lab2.y=-6,this._lab2.x=-35,this._lab2.size=18,this._lab2.textColor=0,this.addChild(this._lab2),this._lab2.text=this._posArr[1]);break;case"top,right":case"right,top":this._shape2.graphics.moveTo(this.width/2,this.height),this._shape2.graphics.lineTo(this.width/2,this.height/2),this._shape2.graphics.lineTo(0,this.height/2),"1"==this._posArr[1]&&(this._lab.y=-30,this._lab.text=String.fromCharCode(65+parseInt(this._posArr[0])-1));break;case"bottom,left":case"left,bottom":this._shape2.graphics.moveTo(this.width/2,0),this._shape2.graphics.lineTo(this.width/2,this.height/2),this._shape2.graphics.lineTo(this.width,this.height/2),"1"==this._posArr[0]&&(this._lab.y=-6,this._lab.x=-35,this._lab.text=this._posArr[1]);break;case"bottom,right":case"right,bottom":this._shape2.graphics.moveTo(this.width/2,0),this._shape2.graphics.lineTo(this.width/2,this.height/2),this._shape2.graphics.lineTo(0,this.height/2);break;default:this._shape2.graphics.lineStyle(2,0),this._shape2.graphics.moveTo(this.width/2,0),this._shape2.graphics.lineTo(this.width/2,this.height),this._shape2.graphics.moveTo(0,this.height/2),this._shape2.graphics.lineTo(this.width,this.height/2)}this._shape2.graphics.endFill()},Object.defineProperty(i.prototype,"filled",{get:function(){return this._filled},enumerable:!0,configurable:!0}),i.prototype.setFilled=function(t,e){void 0===e&&(e=!0),0==t?(this._img.visible=!1,this._filled=!1):(this._img.visible=!0,1==e&&egret.Tween.get(this._img).to({alpha:0},200,egret.Ease.quintIn).to({alpha:1},500,egret.Ease.quintOut),this._filled=!0)},i.prototype.dispose=function(){e.prototype.dispose.call(this),this._logicPos="",this._lab.text="",this._filled=!1,this._img.visible=!1,this._posArr=[],this._data=new t.GridMap,this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this._clickHandler,this)},i}(lxl.ui.CLayer);t.Grid=e,__reflect(e.prototype,"app.Grid")}(app||(app={}));var app;!function(t){var e=function(e){function i(){return e.call(this,lxl.Config.SKIN_PATH+"MainGrid.exml")||this}return __extends(i,e),i.prototype.onActivity=function(){e.prototype.onActivity.call(this),this.btn_help.addEventListener(lxl.CEvent.CLICK,this._helpHandler,this),this.btn_huyan.addEventListener(lxl.CEvent.CLICK,this._huyanHandler,this),this.btn_knowledge.addEventListener(lxl.CEvent.CLICK,this._knowledgeHandler,this),this.btn_shuoming.addEventListener(lxl.CEvent.CLICK,this._helpHandler,this),this.btn_zhishi.addEventListener(lxl.CEvent.CLICK,this._knowledgeHandler,this),this.btn_start.addEventListener(lxl.CEvent.CLICK,this._startHandler,this);var t=lxl.Tool.callJS("getInfoToken");"COORDINATOR"==t._userRole&&(Qipan.viewData.type="showFrist",Qipan.dataHandler.sendMessageToServer(Qipan.viewData)),lxl.Tool.callJS("loadGameComplete")},i.prototype.dispose=function(){e.prototype.dispose.call(this),this.btn_help.removeEventListener(lxl.CEvent.CLICK,this._helpHandler,this),this.btn_huyan.removeEventListener(lxl.CEvent.CLICK,this._huyanHandler,this),this.btn_knowledge.removeEventListener(lxl.CEvent.CLICK,this._knowledgeHandler,this),this.btn_shuoming.removeEventListener(lxl.CEvent.CLICK,this._helpHandler,this),this.btn_zhishi.removeEventListener(lxl.CEvent.CLICK,this._knowledgeHandler,this),this.btn_start.removeEventListener(lxl.CEvent.CLICK,this._startHandler,this)},i.prototype._startHandler=function(e){var i=this;this.group_model.visible=!1;var n=new t.TeachWatchView;n.once(lxl.CEvent.LOAD_SKIN_COMPLETE,function(){i.addChild(n)},this)},i.prototype._lvHandler=function(t){this._sel.dispose(),this.group_model.visible=!1},i.prototype._helpHandler=function(e){this._help=new t.DlgHelp,this.pop(this._help),this.btn_help.touchEnabled=this.btn_knowledge.touchEnabled=!1,this._help.addEventListener(lxl.CEvent.CLOSE,this.helpClose,this)},i.prototype.helpClose=function(){this._help.removeEventListener(lxl.CEvent.CLOSE,this.helpClose,this),this._help.dispose(),this.btn_help.touchEnabled=this.btn_knowledge.touchEnabled=!0},i.prototype._huyanHandler=function(t){lxl.CDispatcher.getInstance().addListener(lxl.CEvent.PROTECTE_EYE,this._changeEyeState,this),lxl.CDispatcher.getInstance().dispatch(new lxl.CEvent(lxl.CEvent.EYE_CHANGE))},i.prototype._changeEyeState=function(t){lxl.CDispatcher.getInstance().removeListener(lxl.CEvent.PROTECTE_EYE,this._changeEyeState,this)},i.prototype._knowledgeHandler=function(e){this._zhishi=new t.DlgZhishi,this.pop(this._zhishi),this.btn_help.touchEnabled=this.btn_knowledge.touchEnabled=!1,this._zhishi.addEventListener(lxl.CEvent.CLOSE,this.zhishiClose,this)},i.prototype.zhishiClose=function(){this._zhishi.removeEventListener(lxl.CEvent.CLOSE,this.zhishiClose,this),this._zhishi.dispose(),this.btn_help.touchEnabled=this.btn_knowledge.touchEnabled=!0},i.prototype._backHandler=function(t){this.btn_knowledge.visible=this.btn_help.visible=!1,this.group_model.visible=!0},i}(lxl.CComponent);t.MainGrid=e,__reflect(e.prototype,"app.MainGrid")}(app||(app={}));var Res=lxl.GlobalData.getInstance().resManager,Qipan=app.QipanManager.getInstance(),Main=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){t.prototype.start.call(this),this.root=new app.QipanSence,lxl.GlobalData.getInstance().root=this,this.stage.scaleMode=egret.StageScaleMode.SHOW_ALL,this.stage.orientation=egret.OrientationMode.LANDSCAPE},e.getInstance=function(){return null==this.instance&&(this.instance=new e),this.instance},e}(lxl.Application);__reflect(Main.prototype,"Main");var lxl;!function(t){var e=function(e){function i(){return e.call(this)||this}return __extends(i,e),i.prototype.createView=function(){this.textField=new egret.TextField,this.textField.textColor=16737945,this.textField.size=20,this.textField.width=280,this.textField.height=100,this.textField.textAlign="center",this.textField.x=this.width/2-this.textField.width/2;var e=t.Tool.createBitmapByName("logo_png"),i=1.775*this.height,n=this.height*(e.height/1080),s=i*(e.width/1920);e.width=s,e.height=n,e.anchorOffsetX=e.width/2,e.anchorOffsetY=e.height/2,e.x=this.width/2,e.y=this.height/2,this.textField.y=this.height-100,this.addChild(e),this.addChild(this.textField)},i.prototype.setProgress=function(t,e){this.textField.text="Loading..."+t+"/"+e},i}(egret.Sprite);t.LoadingUI=e,__reflect(e.prototype,"lxl.LoadingUI")}(lxl||(lxl={}));var lxl;!function(t){var e=function(){function t(){}return t.prototype.log=function(t){console.log(t)},t.prototype.fatal=function(t){alert(t)},t}();t.Log=e,__reflect(e.prototype,"lxl.Log"),t.logs=new e}(lxl||(lxl={}));var lxl;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._w=0,e._h=0,e}return __extends(e,t),e.prototype.setSize=function(t,e){this._w=t,this._h=e},e.prototype.animation=function(){var t=this;egret.Tween.get(this).to({alpha:1},800,egret.Ease.quintOut).wait(1600).to({alpha:0},1e3,egret.Ease.quintIn).call(function(){t.parent&&t.parent.removeChild(t)})},e.prototype.init=function(t,e){this._cont=t,this._txtrToastBg=e},e}(egret.DisplayObjectContainer);t.Pops=e,__reflect(e.prototype,"lxl.Pops");var i=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.init=function(e,i){t.prototype.init.call(this,e,i),this._bg=new egret.Bitmap(this._txtrToastBg),this._bg.height=35,this._bg.anchorOffsetX=this._bg.width/2,this._bg.anchorOffsetY=this._bg.height/2,this._tx=new egret.TextField,this._tx.size=20,this._tx.bold=!0,this._tx.textColor=16777215,this._tx.stroke=2,this._tx.strokeColor=0,this._tx.fontFamily="微软雅黑",this._tx.textAlign=egret.HorizontalAlign.CENTER,this.addChild(this._bg),this.addChild(this._tx)},e.prototype.inits=function(t){void 0===t&&(t=""),this._tx.text=t,this._tx.height=30,this._tx.width=this._w,this._tx.anchorOffsetX=this._w/2,this._tx.anchorOffsetY=this._tx.height/2,this._bg.x=this.stage.stageWidth/2,this._bg.y=this.stage.stageHeight/2,this._tx.x=this._bg.x,this._tx.y=this._bg.y,this.alpha=1},e.prototype.launch=function(t,e){void 0===e&&(e=!0),this._cont&&(this.setSize(this._cont.stage.stageWidth,this._cont.stage.stageHeight),this._cont.addChild(this),this.inits(t),e&&this.animation())},e.getInstance=function(){return null==this._t&&(this._t=new e),this._t},e}(e);t.Toast=i,__reflect(i.prototype,"lxl.Toast")}(lxl||(lxl={}));var app;!function(t){var e=function(){function t(){}return t}();t.ProtocolMessage=e,__reflect(e.prototype,"app.ProtocolMessage")}(app||(app={}));var lxl;!function(t){var e=function(){function t(){}return t.isPC_Mode=function(){return"Windows PC"==egret.Capabilities.os?!0:"Mac OS"==egret.Capabilities.os?!0:!1},t.callJS=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return"native"==egret.Capabilities.runtimeType?"":window[t].apply(window,e)},t.MapToField=function(t){var e=[];return t.forEach(function(t){e.push(t.k+"="+encodeURIComponent(t.v))},this),e.join("&")},t.getValueByKey=function(t,e){for(var i=0;i<t.length;i++)if(t[i].k==e)return t[i].v;return null},t.setMapValue=function(t,e){for(var i=0;i<t.length;i++)if(t[i].k==e.k)return void(t[i].v=e.v);t.push(e)},t.getMapValue=function(t,e){for(var i=0;i<t.length;i++)if(t[i].k==e)return t[i];return null},t.removeMapValue=function(t,e){for(var i=0;i<t.length;i++)t[i].k==e&&t.splice(i,1)},t.createBitmapByName=function(t){var e=new egret.Bitmap,i=Res.getRes(t);return e.texture=i,e},t.copyObject=function(t){var e={};for(var i in t)e[i]=t[i];return e},t.objectToArray=function(t){var e=[];for(var i in t)e.push(t[i]);return e},t}();t.Tool=e,__reflect(e.prototype,"lxl.Tool")}(lxl||(lxl={}));var app;!function(t){var e=function(t){function e(){return t.call(this,lxl.Config.SKIN_PATH+"DlgFailSkin.exml")||this}return __extends(e,t),e.prototype.onActivity=function(){t.prototype.onActivity.call(this);var e;e=new egret.Shape,e.graphics.beginFill(0,.4),e.graphics.drawRect(0,0,this.width,this.height),e.graphics.endFill(),this.addChildAt(e,0),this.btn_jixu.addEventListener(lxl.CEvent.CLICK,this._closeHandler,this),this._sound=Res.getRes("lose_mp3"),this._sound.play(0,1),this._sound1=Res.getRes("click_guanqia_mp3")},e.prototype._closeHandler=function(t){this._sound1.play(0,1),this.dispatchEvent(new lxl.CEvent(lxl.CEvent.CLOSE))},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.btn_jixu.removeEventListener(lxl.CEvent.CLICK,this._closeHandler,this)},e}(lxl.CComponent);t.DlgFail=e,__reflect(e.prototype,"app.DlgFail")}(app||(app={}));var lxl;!function(t){var e;!function(e){var i=function(e){function i(){var t=e.call(this)||this;return t.eps=.2,t._clickEps=.2,t.addEventListener(egret.TouchEvent.TOUCH_TAP,t._onClick,t),t.addEventListener(eui.UIEvent.ADDED_TO_STAGE,t.onActivity,t),t}return __extends(i,e),i.prototype.onActivity=function(t){this.init()},i.prototype.init=function(){this.eps>0&&(this._timer=new egret.Timer(1e3*this.eps),this._timer.addEventListener(egret.TimerEvent.TIMER,this._timerHandler,this),this._timer.start())},i.prototype._timerHandler=function(t){this._clickEps=this._clickEps==this.eps?this.eps:this._clickEps+.1},i.prototype._onClick=function(e){this.scaleX=this.scaleY=.9;var i=t.Tool.copyObject(e);egret.Tween.get(this).to({scaleX:.9,scaleY:.9},200).to({scaleX:1,scaleY:1},100).call(function(){this._clickEps=0,this.dispatchEvent(new t.CEvent(t.CEvent.CLICK,i))},this)},i}(eui.Button);e.CButton=i,__reflect(i.prototype,"lxl.ui.CButton")}(e=t.ui||(t.ui={}))}(lxl||(lxl={}));var app;!function(t){var e=function(t){function e(){return t.call(this,lxl.Config.SKIN_PATH+"DlgHelpSkin.exml")||this}return __extends(e,t),e.prototype.onActivity=function(){t.prototype.onActivity.call(this);var e;e=new egret.Shape,e.graphics.beginFill(0,.4),e.graphics.drawRect(0,0,this.width,this.height),e.graphics.endFill(),this.addChildAt(e,0),this.btn_huyan.addEventListener(lxl.CEvent.CLICK,this._huyanHandler,this),this.btn_close.addEventListener(lxl.CEvent.CLICK,this._closeHandler,this)},e.prototype._closeHandler=function(t){this.dispatchEvent(new lxl.CEvent(lxl.CEvent.CLOSE))},e.prototype._huyanHandler=function(t){lxl.CDispatcher.getInstance().addListener(lxl.CEvent.PROTECTE_EYE,this._changeEyeState,this),lxl.CDispatcher.getInstance().dispatch(new lxl.CEvent(lxl.CEvent.EYE_CHANGE))},e.prototype._changeEyeState=function(t){lxl.CDispatcher.getInstance().removeListener(lxl.CEvent.PROTECTE_EYE,this._changeEyeState,this)},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.btn_huyan.removeEventListener(lxl.CEvent.CLICK,this._huyanHandler,this),this.btn_close.removeEventListener(lxl.CEvent.CLICK,this._closeHandler,this)},e}(lxl.CComponent);t.DlgHelp=e,__reflect(e.prototype,"app.DlgHelp")}(app||(app={}));var app;!function(t){var e=function(e){function i(){return e.call(this)||this}return __extends(i,e),i.prototype.onActivity=function(){var i=this;e.prototype.onActivity.call(this);var n=new t.MainGrid;n.width=this.stage.stageWidth,n.height=this.stage.stageHeight,n.addEventListener(lxl.CEvent.LOAD_SKIN_COMPLETE,function(){i.addChild(n)},this)},i}(lxl.ui.CLayer);t.QipanSence=e,__reflect(e.prototype,"app.QipanSence")}(app||(app={}));var app;!function(t){var e=function(e){function i(){return e.call(this,lxl.Config.SKIN_PATH+"SelBattle.exml")||this}return __extends(i,e),i.prototype.onActivity=function(){e.prototype.onActivity.call(this),this.btn_home.addEventListener(lxl.CEvent.CLICK,this._homeHandler,this),this.btn_help.addEventListener(lxl.CEvent.CLICK,this._helpHandler,this),this.btn_huyan.addEventListener(lxl.CEvent.CLICK,this._huyanHandler,this),this.btn_zhishi.addEventListener(lxl.CEvent.CLICK,this._knowledgeHandler,this),this.btn_lv1.addEventListener(lxl.CEvent.CLICK,this._lvHandler,this),this.btn_lv2.addEventListener(lxl.CEvent.CLICK,this._lvHandler,this),this._sound=Res.getRes("click_guanqia_mp3");var t;t=new egret.Shape,t.graphics.beginFill(0,.4),t.graphics.drawRect(0,0,this.width,this.height),t.graphics.endFill(),this.addChildAt(t,0)},i.prototype.dispose=function(){e.prototype.dispose.call(this),this.btn_home.removeEventListener(lxl.CEvent.CLICK,this._homeHandler,this),this.btn_help.removeEventListener(lxl.CEvent.CLICK,this._helpHandler,this),this.btn_huyan.removeEventListener(lxl.CEvent.CLICK,this._huyanHandler,this),this.btn_zhishi.removeEventListener(lxl.CEvent.CLICK,this._knowledgeHandler,this),this.btn_lv1.removeEventListener(lxl.CEvent.CLICK,this._lvHandler,this),this.btn_lv2.removeEventListener(lxl.CEvent.CLICK,this._lvHandler,this)},i.prototype._lvHandler=function(e){e.currentTarget==this.btn_lv1?t.QipanManager.getInstance().model=1:e.currentTarget==this.btn_lv2&&(t.QipanManager.getInstance().model=2),this.dispatchEvent(new lxl.CEvent(lxl.CEvent.SEL_COMPLETE))},i.prototype._huyanHandler=function(t){lxl.CDispatcher.getInstance().addListener(lxl.CEvent.PROTECTE_EYE,this._changeEyeState,this),lxl.CDispatcher.getInstance().dispatch(new lxl.CEvent(lxl.CEvent.EYE_CHANGE))},i.prototype._changeEyeState=function(t){lxl.CDispatcher.getInstance().removeListener(lxl.CEvent.PROTECTE_EYE,this._changeEyeState,this)},i.prototype._helpHandler=function(e){this._help=new t.DlgHelp,this.pop(this._help),this.btn_help.touchEnabled=this.btn_huyan.touchEnabled=this.btn_zhishi.touchEnabled=!1,this._help.addEventListener(lxl.CEvent.CLOSE,this.helpClose,this)},i.prototype.helpClose=function(){this._help.removeEventListener(lxl.CEvent.CLOSE,this.helpClose,this),this._help.dispose(),this.btn_help.touchEnabled=this.btn_huyan.touchEnabled=this.btn_zhishi.touchEnabled=!0},i.prototype._knowledgeHandler=function(e){this._zhishi=new t.DlgZhishi,this.pop(this._zhishi),this.btn_help.touchEnabled=this.btn_huyan.touchEnabled=this.btn_zhishi.touchEnabled=!1,this._zhishi.addEventListener(lxl.CEvent.CLOSE,this.zhishiClose,this)},i.prototype.zhishiClose=function(){this._zhishi.removeEventListener(lxl.CEvent.CLOSE,this.zhishiClose,this),this._zhishi.dispose(),this.btn_help.touchEnabled=this.btn_huyan.touchEnabled=this.btn_zhishi.touchEnabled=!0},i.prototype._homeHandler=function(t){this.dispose()},i}(lxl.CComponent);t.SelBattle=e,__reflect(e.prototype,"app.SelBattle")}(app||(app={}));var lxl;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.getChildByName=function(){},e}(Array);t.Dictionary=e,__reflect(e.prototype,"lxl.Dictionary")}(lxl||(lxl={}));var lxl;!function(t){var e=function(){function t(){}return t.drawArrowWithVector=function(t,e,i){var n=10,s=30,r=e.x,o=e.y,a=i.x,h=i.y,l=Math.atan2(o-h,r-a)*(180/Math.PI);t.lineStyle(5,16733542),t.moveTo(a,h),t.lineTo(a+n*Math.cos((l-s)*(Math.PI/180)),h+n*Math.sin((l-s)*(Math.PI/180))),t.moveTo(a,h),t.lineTo(a+n*Math.cos((l+s)*(Math.PI/180)),h+n*Math.sin((l+s)*(Math.PI/180))),t.moveTo(r,o),t.lineTo(a,h)},t.drawFan=function(t,e,i,n,s){},t}();t.GTool=e,__reflect(e.prototype,"lxl.GTool")}(lxl||(lxl={}));var lxl;!function(t){var e=function(){function t(){}return t.getRandomNumByArr=function(t){t.sort(function(t,e){return e-t});for(var e=[],i=0;i<t[0]/10;i/=10){i=10*++i;for(var n=!0,s=0;s<t.length;s++)t[s]==i&&(n=!1);1==n&&e.push(i)}var r=Math.floor(e.length*Math.random())-1;return 0>r&&(r=0),0==e.length?10:e[r]},t.getPointDir=function(t){for(var e=t.length,i=[],n=0;e>n;n++)if(t[n+1]){var s=t[n],r=t[n+1],o=s.y-r.y,a=egret.Point.distance(s,r),h=Math.asin(o/a),l=57.29578*h,p=this.quadrant(s,r),c=this.getDirByAngQuad2(l,p);i.push(c)}var d=this.repDiff(i);return parseInt(d)},t.parseGestureDir=function(t){for(var e=t.length,i=[],n=0;e>n;n++)if(t[n+1]){var s=t[n],r=t[n+1],o=s.y-r.y,a=egret.Point.distance(s,r),h=Math.asin(o/a),l=57.29578*h,p=this.quadrant(s,r),c=this.getDirByAngQuad(l,p);i.push(c)}var d=this.repDiff(i),u=this.sweep(d);return u},t.repDiff=function(t){for(var e="",i=t.length,n=0,s=0;i>s;s++)n!=t[s]&&(n=t[s],e+=t[s]);return e},t.sweep=function(t){for(var e=-1,i=-1,n=this._symbol.length,s=0;n>s;s++){var r=this.Levenshtein_Distance_Percent(this._symbol[s],t);r>i&&(i=r,e=this._symbolG[s])}return.4>i&&(e=-1),e},t.getDirByAngQuad=function(t,e){switch(e){case 1:return 22.5>=t&&t>=0?1:67.5>=t&&t>22.5?8:7;case 2:return 22.5>=t&&t>=0?5:67.5>=t&&t>22.5?6:7;case 3:return-67.5>=t&&t>=-90?3:-22.5>=t&&t>-67.5?4:5;case 4:return-67.5>=t&&t>=-90?3:-22.5>=t&&t>-67.5?2:1}},t.getDirByAngQuad2=function(t,e){switch(e){case 1:return 30>=t&&t>=0?3:60>=t&&t>30?2:1;case 2:return 30>=t&&t>=0?10:60>=t&&t>30?11:12;case 3:return-60>=t&&t>=-90?7:-30>=t&&t>-60?8:9;case 4:return-60>=t&&t>=-90?6:-30>=t&&t>-60?5:4}},t.quadrant=function(t,e){return e.x>=t.x?e.y<=t.y?1:4:e.y<=t.y?2:3},t.Levenshtein_Distance=function(t,e){var i,n,s,r,o,a=t.length,h=e.length,l=[];if(0==a)return h;if(0==h)return a;for(i=0;a>=i;i++)l[i]=[],l[i][0]=i;for(n=0;h>=n;n++)l[0][n]=n;for(i=1;a>=i;i++)for(s=t.charAt(i-1),n=1;h>=n;n++)r=e.charAt(n-1),o=s==r?0:1,l[i][n]=this.Minimum(l[i-1][n]+1,l[i][n-1]+1,l[i-1][n-1]+o);return l[a][h]},t.Levenshtein_Distance_Percent=function(t,e){var i=t.length>e.length?t.length:e.length,n=this.Levenshtein_Distance(t,e);return 1-n/i},t.Minimum=function(t,e,i){return e>t?i>t?t:i:i>e?e:i},t}();e._symbol=["28","46","82","64","141","585","3","7","5","1","4321876","2345678"],e._symbolG=[0,0,3,3,5,5,6,1,7,2,4,4],t.MathUtil=e,__reflect(e.prototype,"lxl.MathUtil")}(lxl||(lxl={}));var lxl;!function(t){var e=function(){function e(){}return e.getNumSp=function(e,i){void 0===i&&(i="");for(var n=new egret.Sprite,s=e.toString().split(""),r=0;r<s.length;r++){var o=t.Tool.createBitmapByName(i+s[r]+"_png");o.x=17*r,n.addChild(o)}return n.width=17*s.length,n.height=40,n},e}();t.NumberUtil=e,__reflect(e.prototype,"lxl.NumberUtil")}(lxl||(lxl={}));var lxl;!function(t){var e=function(){function t(){}return t.formatTimeBySecond=function(t){var e="",i=Math.floor(t/60),n=t%60;return e=this.formatMinite(i)+":"+this.formatSecond(n)},t.formatMinite=function(t){var e="";return 10>t?e="0"+t:60>t?e=""+t:e},t.formatSecond=function(t){var e="";return 10>t?e="0"+t:59>=t?e=""+t:e},t}();t.TimerUtils=e,__reflect(e.prototype,"lxl.TimerUtils")}(lxl||(lxl={}));var AssetAdapter=function(){function t(){}return t.prototype.getAsset=function(t,e,i){function n(n){e.call(i,n,t)}if(RES.hasRes(t)){var s=RES.getRes(t);s?n(s):RES.getResAsync(t,n,this)}else RES.getResByUrl(t,n,this,RES.ResourceItem.TYPE_IMAGE)},t}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);